### **바이블라임 콘텐츠 생성 자동화 워크플로우**

아래는 제가 구상한 전체 파이프라인의 흐름입니다.

```
[1. 데이터 소스] ---> [2. 작업 큐] ---> [3. 생성 워커] ---> [4. Suno API]
      ^                                                           |
      |                                                           v
[7. 관리자 검수] <--- [6. 데이터베이스/스토리지] <--- [5. 후처리]
      |
      v
[8. 서비스 API] ---> biblerhyme.com
```

---

#### **1단계: 데이터 소스 준비 (Input)**

*   **성경 데이터:** 성경 전체를 `JSON` 형식의 파일로 준비합니다. 구조는 아래와 같습니다.
    ```json
    [
      { "book": "창세기", "chapter": 1, "verse": 1, "text": "태초에 하나님이 천지를 창조하시니라" },
      ...
    ]
    ```
*   **프롬프트 템플릿:** 훅(Hook)과 음악 스타일(Style)을 여러 버전으로 만들어 별도의 `JSON` 파일로 관리합니다. 이를 통해 다양한 조합을 자동으로 생성할 수 있습니다.
    *   `hooks.json`: `["말씀이 리듬이 되는 순간...", "Bible in the rhyme..."]`
    *   `styles.json`: `["Epic Hip Hop, ...", "Lofi Hip Hop, ..."]`

#### **2단계: 작업 큐 (Job Queue)**

*   생성할 콘텐츠의 '작업(Job)'을 큐에 쌓아두는 시스템입니다. (예: `RabbitMQ`, `Redis`)
*   생성 스크립트를 실행하면, 1단계의 성경 구절과 프롬프트 템플릿을 조합하여 수백, 수천 개의 '작업'을 만들어 큐에 등록합니다.
*   **작업 데이터 예시:** `{ "verse_text": "...", "lyrics_prompt": "...", "style_prompt": "..." }`

#### **3단계: 생성 워커 (Generation Worker)**

*   '작업 큐'에서 대기 중인 작업을 하나씩 가져와 처리하는 서버 프로세스입니다.
*   워커는 작업 데이터에 따라 Suno API에 보낼 최종 프롬프트를 완성합니다.

#### **4단계: Suno API 연동**

*   **핵심 전제:** **Suno가 외부에서 호출 가능한 API를 제공해야 합니다.** (만약 API가 없다면, `Puppeteer`나 `Selenium` 같은 브라우저 자동화 도구를 사용해야 하지만, 이는 불안정하고 비효율적입니다.)
*   워커가 완성된 프롬프트를 Suno API로 전송하여 음원 생성을 요청합니다.
*   Suno API는 생성 작업이 시작되었음을 알리는 '작업 ID'를 즉시 반환해야 합니다.

#### **5단계: 후처리 (Post-processing)**

*   음원 생성이 완료될 때까지 워커는 주기적으로 Suno API에 '작업 ID'의 상태를 확인(Polling)하거나, Suno가 우리 시스템에 완료 신호(Webhook)를 보내주길 기다립니다.
*   생성이 완료되면, 워커는 생성된 음원 파일(MP3)을 다운로드합니다.

#### **6단계: 데이터베이스 및 스토리지 저장**

*   **파일 스토리지:** 다운로드한 MP3 파일은 `AWS S3`나 `Google Cloud Storage` 같은 클라우드 스토리지에 업로드합니다. 파일명은 고유 ID로 관리합니다. (예: `genesis-1-1-styleA.mp3`)
*   **데이터베이스:** 생성된 콘텐츠의 모든 메타데이터를 DB에 저장합니다. (예: `PostgreSQL`, `MySQL`)
    *   **테이블 스키마 예시:** `contents`
        *   `id` (고유 ID)
        *   `book`, `chapter`, `verse` (성경 위치)
        *   `verse_text` (원본 구절)
        *   `lyrics_prompt` (사용된 가사 프롬프트)
        *   `style_prompt` (사용된 스타일 프롬프트)
        *   `audio_url` (S3에 저장된 파일 주소)
        *   `duration` (음원 길이)
        *   `status` ('pending_review', 'approved', 'rejected')
        *   `created_at` (생성일)

#### **7. 관리자 검수 (Manual QC)**

*   자동 생성된 음원의 품질(음질, 랩 정확도 등)을 사람이 최종 확인하는 간단한 관리자 페이지를 만듭니다.
*   관리자가 '승인(approved)' 버튼을 누르면, DB의 `status` 필드가 변경됩니다.

#### **8. 서비스 API 제공**

*   `biblerhyme.com` 웹사이트(프론트엔드)에서 호출할 API를 만듭니다.
*   이 API는 DB에서 `status`가 'approved'인 콘텐츠 목록만 조회하여 프론트엔드에 전달합니다.

---

이 워크플로우를 구축하면, 개발자가 스크립트 한 번만 실행하면 수백 개의 바이블라임 콘텐츠가 자동으로 생성되고 DB에 정리까지 되는 환경을 만들 수 있습니다. 가장 큰 기술적 허들은 **Suno API의 존재 여부와 사용 정책**이 될 겁니다. 이 부분부터 확인해야 합니다.

---

### **Suno API 존재 여부 및 사용 정책**

Suno AI는 현재 공식적인 Public API를 직접 제공하지는 않습니다. 하지만 다음과 같은 방법으로 Suno AI의 음악 생성 기능을 API를 통해 사용할 수 있습니다:

1.  **서드파티(3rd-party) 유료 서비스:** `sunoapi.com`, `musicapi.ai` 와 같은 여러 회사들이 Suno의 기능을 대신 호출해 주는 유료 API를 판매하고 있습니다.
    *   **정책:** 해당 API 서비스 제공업체의 이용 약관과 가격 정책을 따릅니다.
    *   **장점:** 대부분 상업적 이용(워터마크 제거 등)을 허용하며, 기술 지원을 받을 수 있어 비교적 안정적입니다.
    *   **결론:** **상용 프로젝트(`biblerhyme.com`)에 자동화를 적용하기 위한 가장 현실적인 선택지**입니다.

2.  **오픈소스 프로젝트:** GitHub 등에 공개된 프로젝트들이 Suno 웹사이트의 내부 통신을 분석하여, 개인이 자신의 계정 정보(쿠키)를 이용해 API처럼 호출할 수 있는 코드를 제공합니다.
    *   **정책:** 대부분 '학습 및 연구 목적'으로 명시되어 있습니다. **상업적으로 사용할 경우, Suno의 서비스 이용 약관을 위반할 소지가 매우 높습니다.**
    *   **기술적 리스크:** 개인 계정의 쿠키를 이용하므로 보안에 취약하며, Suno가 웹사이트 구조를 조금만 변경해도 코드가 먹통이 될 확률이 100%에 가깝습니다. 유지보수가 거의 불가능합니다.
    *   **결론:** **프로토타입 테스트 용도 외에는 상용 서비스에 절대로 적용해서는 안 됩니다.**

---

### **서드파티 API 월별 비용 정보**

**중요: 아래 정보는 현재 시점의 검색 결과이며, 언제든지 변경될 수 있습니다. 정확한 최신 정보는 반드시 해당 웹사이트에서 직접 확인하셔야 합니다.**

#### **1. SunoAPI.com (MusicAPI.ai 와 연관된 것으로 보임)**

*   **Basic Plan:** 월 $8 (연간 결제 시)
    *   매월 800 크레딧 제공
*   **Standard Plan:** 월 $20 (연간 결제 시)
    *   매월 2,000 크레딧 제공
*   **Business Plan:** 맞춤형 가격

#### **2. MusicAPI.ai**

*   **Free Plan:** 무료
    *   기본 제공 크레딧은 없으나, 서비스를 테스트해 볼 수 있습니다.
    *   Pay-as-you-go(사용한 만큼 지불) 옵션으로 10크레딧당 $0.08에 구매 가능합니다.
*   **Basic Plan:** 월 $8 ~ $20
    *   매월 800 크레딧 제공
*   **Standard Plan:** 월 $20 ~ $40
    *   매월 2,000 크레딧 제공
*   **Pro Plan:** (가격 미상, 더 높은 등급)
    *   7,500 크레딧 (약 750곡 생성) 제공, 동시 생성 수 50개, 상업적 이용 권한 등 포함
*   **Business Plan:** 맞춤형 가격

#### **요약 및 해석**

*   **크레딧(Credits):** 보통 1곡을 생성하는 데 10 크레딧 정도가 소모되는 것으로 보입니다. (예: 800 크레딧 = 약 80곡)
*   **시작 비용:** **월 $8 (약 1만 원)** 정도의 비용으로 시작하여 매월 약 80곡 정도를 생성할 수 있는 Basic 플랜이 가장 기본적인 선택지로 보입니다.
*   **선택 기준:** 자동화 워크플로우를 통해 한 달에 몇 곡 정도를 생성할지 예상 사용량을 먼저 계산한 후, 그에 맞는 요금제를 선택해야 합니다. 처음에는 가장 저렴한 요금제나 무료 플랜으로 테스트를 충분히 해보는 것을 강력히 추천합니다.